# Simple public/.htaccess file
RewriteEngine On

# Prevent directory listing
Options -Indexes

# Custom error pages - using a general error handler
ErrorDocument 400 /public/error.php?code=400
ErrorDocument 401 /public/error.php?code=401
ErrorDocument 403 /public/error.php?code=403
ErrorDocument 404 /public/error.php?code=404
ErrorDocument 500 /public/error.php?code=500
ErrorDocument 502 /public/error.php?code=502
ErrorDocument 503 /public/error.php?code=503
ErrorDocument 504 /public/error.php?code=504

# Clean URLs for PHP files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^\.]+)$ $1.php [L]

# Redirect URLs like /posts/17 to /post.php?id=17
RewriteRule ^posts/([0-9]+)$ post.php?id=$1 [L,QSA]
